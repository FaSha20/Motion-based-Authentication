# احراز هویت مبتنی بر حرکت  
## آشنایی با سیستم عامل اندروید و استفاده از سنسورهای تلفن همراه
###شرح پروژه: 
در این پروژه قصد داریم با استفاده از سنسورهای شتاب سنج و ژیروسکوپ در تلفن همراه هوشمند، با سیستم عامل اندروید، یک سیستم احراز هویت مبتنی بر حرکت تلفن همراه هوشمند بسازیم. این سیستم شامل دو مرحله اصلی است: مرحله ذخیره سازی و مرحله احراز هویت. درمرحله ذخیره سازی، یک الگوی حرکتی را از کاربر دریافت و ذخیره کرده و در مرحله احراز هویت حرکت دستگاه را با الگوی ذخیره شده مقایسه میکند و تطابق یا عدم تطابق را بررسی میکند. 

<br/><br/>
### طراحی مفهومی و ساختار برنامه اندرویدی 
در این بخش به بررسی و شرح ساختار برنامه اندرویدی میپردازیم: 
<br/><br/>
![image (16)](https://github.com/FaSha20/Motion-based-Authentication/assets/114980788/a95fbe33-3c5b-4cd9-b3f5-baf84e0ad77d)
<br/><br/>
ساختار برنامه اندرویدی در نمای دیرکتوریها مشخص است. برنامه ما در محیط اندروید استودیو و به زبان جاوا نوشته شده است و از تعدادی پوشه متشکل شده است. پوشه اول پوشه manifest شامل فایل AndroidManifest.xml است (که در تصویر بالا نیز محتوای آن نمایش داده شده است.) که در آن مشخص میکنیم که از چه فیچرهایی داریم استفاده میکنیم. مثلا در خط 5 و 6 میبینیم که نوشته شده از سنسورهای شتاب سنج و ژیروسکوپ داریم استفاده میکنیم. همچنین یک پوشه جاوا داریم که شامل سه فایل MainActivity (که همان main برنامه ماست) و MotionCapture و Path است. 
<br/><br/>
در بخش res>layout یک فایل activity_main.xml هست که در ادامه به شرح آن خواهیم پرداخت.
<br/><br/>
![image (17)](https://github.com/FaSha20/Motion-based-Authentication/assets/114980788/636e4cf0-ed7a-4b98-a149-b94d925e7b4e)
<br/><br/>
تصویر بالا تصویری از فایل activity_main.xml است که به نوعی کدهای مربوط به UI کار در این فایل قرار دارد. اینکه چند دکمه یا button داشته باشد، چند text view داشته باشد و هر آن المانی که روی صفحه نمایش داده میشود، با جزئیاتی از قبیل اندازه و رنگ و... را در این فایل مشخص میکنیم. همچنین قابلیت split دارد که میتوان پیشنمایش UI را در صفحه هنگام کار دید و تغییرات را اعمال کرد. همچنین میشود مستقیم روی این UI تغییرات را اعمال کرد و نیازی به صرف کد زدن نیز نیست. 
<br/><br/>
![image (18)](https://github.com/FaSha20/Motion-based-Authentication/assets/114980788/d7a10214-be0b-4214-a167-a4cbb992e4af)
<br/><br/>
![image (19)](https://github.com/FaSha20/Motion-based-Authentication/assets/114980788/1c9d7477-91ae-453b-b3ed-20b9a9c45c08)
<br/><br/>
عکس بالا تصویری از فایل MainActivity است. MainActivity در واقغ همان main کار است که در آن، تک تک المانهایی که در صفحه ساخته شده اند، با آن ID که مشخص کرده ایم، با تابع findViewByID پیدا میکنیم و در باتنی به همان اسم میریزیم. سپس برای هرکدام یک On click listener ست میکنیم. به این معنا که وقتی روی این دکمه کلیک شد، این listener را فعال کن. به طور مثال برای بخش اول start capture button یک set on click listener زده ایم (عکس دو) که وقتی روی آن کلیک شود، تمام text view ها را پاک میکند و capture را آغاز میکند. آبجکت motion capture هم در حقیقت همان object اصلی است که دارد کار میکند. main این آبجکت را صدا میزند و رویش عملیات ها را انجام میدهد. 
<br/><br/>
![image (20)](https://github.com/FaSha20/Motion-based-Authentication/assets/114980788/e1d7c416-4e05-4c4e-b905-e4724db40bf1)
<br/><br/>
این عکس نیز مثال دیگری مربوط به دکمه check pattern است که initial path ای که ساخته را با path ای که گرفته به عنوان ورودی میگیرد و باهم چک میکند که آیا مچ هستند یا خیر. اگر valid باشد، تکست را به تکست valid ست میکند و در غیر این صورت، تکست را fail ست میکند.
<br/><br/>
![image (21)](https://github.com/FaSha20/Motion-based-Authentication/assets/114980788/81fecda4-8735-4911-9be2-949c4c703808)
<br/><br/>
این بخش مربوط به کلاس Motion Capture است که اصل کار است. ابتدا پارامتر های اولیه را تعریف و ست میکنیم. یک constructor دارد که در آن، ابتدا یک sensor manager میسازد و به سیستم اعلام میکند که من میخواهم از سنسورهای تو استفاده کنم! خروجی این درخواست به سیستم در sensorManager میریزد. اگر این مقدار null نبود، یعنی دسترسی sensormanager داده شده است. آن وقت به سیستم اعلام میشود که من میخواهم از سنسور شتاب سنج و ژیروسکوپ تو استفاده کنم! پس دو سنسور از این تایپ برای ما میسازد. یک شتاب سنج و یک ژیروسکوپ. 
<br/><br/>
سپس مقادیر اولیه ای ست میشود. caturing را false میکنیم به معنای آنکه درحال دریافت حرکت نیستیم. پارامتر move (که به معنای آن است که نویت حرکت چه محوری است؟ محور x یا محور y، و یا آیا اصلا نوبت حرکتی است؟ 0 بودن این پارامتر به معنای این است که نویت حرکت در هیچ محوری نیست و چیزی دریافت نشده است.) motion pattern builder نیز چیزی است که pattern حرکت را در آن ذخیره میکنیم و در اینجا new میشود. 
<br/><br/>
![image (22)](https://github.com/FaSha20/Motion-based-Authentication/assets/114980788/9af6094a-60eb-4c63-a8cf-03d32598b064)
<br/><br/>
در start capture 
